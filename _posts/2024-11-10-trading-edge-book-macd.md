---
layout: single
title:  "실전 추세투자법(6/6): 이동평균선과 MACD기반 진입규칙 2"
description: 실전 추세투자법 책의 이동평균선과 MACD기반 진입규칙 부분을 정리한 글
categories: 투자
tag: [주식,퀀트,책]
toc: true
author_profile: false
header:
 teaser: /images/2024-11-10-trading-edge-book-macd/12-8.webp
 og_image: /images/2024-11-10-trading-edge-book-macd/12-8.webp

# sidebar:
#     nav: "docs"
# search: true
---
여기서는 [실전 추세투자법](/투자/trading-edge-book)의 MACD를 이용한 진입규칙을 정리한다. 

# 이동평균선의 수렴과 확산을 분석하는 지표, MACD
[앞에서 소개한 이동평균선 대순환 분석](/투자/trading-edge-book-moving-average)은 어떤 상황에서 매매해야 할지를 알려주었다. 그런데 매매 신호가 나타나는 타이밍이 늦다는 약점을 가지고 있다. 이동평균선 대순환 분석의 유일한 약점을 보완해 주는 것이 MACD를 이용하여 매매하는 것이다.

아래의 그림을 보자. 윗부분은 닛케이225 일봉 차트이고, 아랫부분은 MACD다.

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-1.webp" alt="일봉차트와 MACD">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 1 Nikkei225 일봉 차트와 MACD (출처: 실전 추세투자법) </span>
</p>

## MACD의 기초
**MACD**는 **Moving Average Convergence/Divergence** 의 약자다. 앞의 Moving Average는 이동평균을 의미한다. 이어지는 Convergence는 수렴을, Divergence는 수렴의 반대인 확산을 의미한다. 두 단어가 묶여 있다는 것은 이 둘이 함께 간다는 뜻이다. 즉, MACD는 이동평균선의 수렴과 확산을 분석하는 기술적 지표다. **이동평균수렴확산지수** 라고도 하는데, 이동평균선이 가까워졌다 멀어졌다 하는 상태를 분석하는 기법이라고 이해하면 된다.

MACD 분석에서 사용하는 계산식은 다음과 같다.
$$
EMA = (EMA_{y}\times (n-1)+P\times 2)/(n+1)
$$

$$
MACD_{1} = 단기EMA-중장기EMA
$$

$$
시그널(Signal) = \text{MACD1의 EMA}
$$

$$
히스토그램(Histoggram)=MACD_{1}-시그널
$$

## EMA(지수이동평균)의 특징
기본적으로 사용하는 파라미터는 단기선이 12일, 중장기선이 26일이다. 그리고 시그널의 EMA에 사용하는 파라미터는 9일이다.

EMA는 **지수이동평균 (Eponential Moving Average)**이라고 한다. 우리가 일반적으로 사용하는 이동평균은 단순이동평균(SMA, Simple Moving Average)이지만, 미국 등 여러 나라에서는 단순이동평균보다 지수이동평균을 더 많이 사용한다. 공식을 보면 알 수 있듯이, MACD에는 EMA가 많이 들어가 있다. 

아래의 그림에는 파라미터가 60일로 같은 SMA와 EMA가 그려져 있다.

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-2.webp" alt="EMA의 특징">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 2 EMA의 특징 (출처: 실전 추세투자법) </span>
</p>

각각의 선에는 천장과 바닥이 있다. EMA가 타이밍 상으로 실제 천장과 바닥에 가깝다. SMA의 천장은 실제 천장에서부터 상당이 늦게 나타난다. 바닥도 마찬가지로 실제 가격과 SMA의 바닥은 상당한 시차를 보인다. 

이동평균선에서 골든크로스 또는 데드크로스 신호가 발생했을 때 매수 또는 매도 포지션으로 진입한다. 그런데 실제 천장과 바닥에서 상당히 멀어진 후에 크로스가 발생한다면 큰 수익을 기대하기 어렵다. 바닥을 쳤을 때 빨리 알려줘야 가치가 있다. 그래서 등장한 것이 EMA다.

EMA에는 또 한 가지 특징이 있다. EMA는 SMA보다 천장의 위치가 낮고 바닥의 위치는 높게 그려져 있음을 알 수 있다. 이것은 선이 매끄러운 정도와 관계가 있다. EMA는 SMA에 비해서 다소 매끄러운(평활한) 곡선을 이룬다. 반대로 SMA는 상대적으로 선의 위아래 움직임이 가파르게 보인다.

EMA의 특징으로는 과거 데이터보다 직전 데이터를 더욱 중시하여 평균값을 산출한다는 점을 들 수 있다. 그 점을 이해하려면 먼저 SMA의 결점부터 짚어봐야 한다.

이동평균선이 올라갈지 내려갈지는 오늘의 가격이 이동평균선 보다 높으냐, 낮으냐로 결정되는 것이 아니다. 계산에서 빠지는 가격과 새롭게 추가되는 가격 중 어느 쪽이 높으냐에 따라 정해진다. 속임수가 일어나는 것은 이 때문이다.

오늘의 가격이 높아진 결과 이동평균선이 상승하여 골든크로스하는 경우가 있다. 반대로 오늘의 가격이 높지 않음에도 계산에서 제외되는 가격이 우연히 낮았다면, 이동평균선은 역시 상승한다. 제외되는 가격이 낮으면 낮을수록 상승하는 정도는 강해진다. 그 결과로 골든크로스하는 경우도 물론 있다. 그때 그 상태를 보고 매수에 뛰어드는 트레이더가 속임수에 걸려드는 것이다.

SMA의 문제점은 이것뿐만이 아니다. 100일 이동평균선을 사용한다면, 100일 동안의 평균값과 오늘의 가격을 비교하는 것이다. 어제 가격의 높고 낮음이 오늘의 가격에 강하게 영향을 미친다는 건 분명하다. 그렇다면 100일 전 가격은 오늘의 가격에 미칠 영향은 어제의 가격과 비교할 때 현저히 낮을 것이다. 그런데 100일 SMA는 100일 동안의 가격을 합산하여 100으로 나누어 구한다. 즉, 100일 전 가격과 오늘 가격의 가중치가 완전히 같은 것이다. SMA의 이런 문제점을 극복한 것이 EMA다.

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-3.webp" alt="EMA의 계산식">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 3 EMA의 계산식 (출처: 실전 추세투자법) </span>
</p>

5일 EMA를 계산하는 식은 다음과 같다.

$$
EMA_{5일} = (전일 평균가\times 4 + 당일 주가 \times 2)/6
$$

오늘의 가격을 2배로 적용하는 이유는 SMA가 가진 문제점 중 하나인 가격의 영향을 고려했기 때문이다. 말하자면 과거의 가격보다 최 근의 가격이 가진 영향력을 크게 반영한 것이다. 이 계산 결과를 6으로 나눈 것은 오늘의 가격을 2일분으로 산정하기 때문이다.

## 2개의 EMA가 보여주는 신호
아래의 그림을 보자. 단기(12일)EMA가 장기(26일) EMA보다 위에 있다. 또 두 EMA의 기울기가 좀 더 가파르게 우상향하는 구간에서 가격이 EMA보다 더 높은 위치에 있다.

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-4.webp" alt="2개의 EMA가 보여주는 신호">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 4 2개의 EMA가 보여주는 신호 (출처: 실전 추세투자법) </span>
</p>

그런데 가격이 내려가면 가격 변동에 민감도가 높은 단기 EMA가 먼저 기울기를 줄이면서 장기 EMA에 근접한다. 하지만 가격이 상승세를 되찾으니 두 EMA도 간격을 넓히기 시작한다. 이것이 가격과 두 EMA의 기본적인 관계다.

가격의 상승세가 약화돼 옆으로 흐르면, 결국 단기 EMA가 장기 EMA 아래로 내려가게 된다. 그 전환점, 즉 교차하는 지점이 데드크로스다. 여기서부터는 장세가 하락 추세로 돌입한다.

# MACD를 구성하는 세 가지 요소
MACD 차트는 MACD1, 시그널, 히스토그램 세 가지 요소로 구성된다.

## MACD(MACD1)
MACD에는 MACD라는 선이 있는데, **MACD1**이라는 기술적 지표와 **MACD2**라는 기술적 지표가 세트로 구성되어 있다. MACD1과 MACD2의 개발자가 서로 다른 탓에 이렇게 번거로운 모양이 됐다.

원래 기술적 지표인 MACD는 MACD선을 지칭하며 MACD1으로 불린다. 여기서는 앞으로 혼동을 피하기 위해 차트 전체를 가리킬 때는 MACD, MACD선을 가리킬 때는 MACD1 이라고 표기하겠다. 그리고 시그널과 히스토그램은 MACD의 정확성을 높이기 위해 추가된 것이다.

MACD1을 계산하는 식은 다음과 같다.

$$
MACD_{1}=EMA_{12일} - EMA_{26일}
$$

MACD로는 2개의 EMA가 가까워졌다가 멀어지는 모양을 분석한다. 두 EMA가 점점 가까워지다가 결국 붙으면 최종적으로는 크로스가 발생한다. 그것이 골든크로스일지 데드크로스일지 알 수 있는 힌트가 MACD다.

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-5.webp" alt="MACD1">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 5 MACD1 (출처: 실전 추세투자법) </span>
</p>

차트 아랫부분에는 MACD1의 수치를 눈으로 확인하게 해주는 척도가 있다. 중앙선 A가 MACD1의 제로선이다. 이 선 A를 가운데 두고 MACD1이 위아래로 움직인다.

타원형으로 표시한 부분을 보면, MACD1이 마이너스에서부터 점점 상승하기 시작해 드디어 제로에 도달했음을 알 수 있다. 마이너스에서 제로에 도달하는 이때가 골든크로스 시점이다.

골든크로스가 일어난 후 MACD1은 더욱 가파른 우상향을 이어간다. 값이 마이너스에서 플러스로 바뀌어 제로선에서 점점 멀어지고 있 다. 이 움직임은 상승 추세가 지속되고 있음을 알려준다.

이처럼 두 EMA의 간격을 보면 골든크로스와 데드크로스의 발생을 미리 읽어낼 수 있다. 이것이 MACD1의 특징이며 강점이다. 이를 통해 조만간 골든크로스가 일어나리라는 걸 알 수 있다면, 골든크로스 이전에 매수 진입을 할 수 있을 것이다.

## 시그널
MACD를 구성하는 두 번째 요소인 시그널은 MACD1의 9일 EMA를 의미한다. EMA의 간격을 다시 EMA로 분석하는 이유는 가격 추세보다 MACD1의 추세가 선행하기 때문이다. 이는 바꿔 말하면, MACD1이 상승 추세에 있는지 하락 추세에 있는지를 알면, 잠시 후에 발생할 가격 추세를 미리 알아낼 수 있다는 뜻이다.

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-6.webp" alt="시그널">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 6 시그널 (출처: 실전 추세투자법) </span>
</p>

MACD1에 이동평균선을 더하면 거기서도 골든크로스, 데드크로스가 발생한다. 이를 통해 상승 추세 또는 하락 추세를 예견하는 구조다.
MACD1이 시그널을 우상향 돌파하는 골든크로스가 일어나면 MACD1에 상승 추세가 발생했다는 증거다. 즉, 매수 신호가 된다.

<div class="notice--primary">
<ul>
    <li style="font-size: 1.25em;">MACD1과 시그널이 골든크로스: 매수 신호</li>
    <li style="font-size: 1.25em;">MACD1과 시그널이 데드크로스: 매도 신호</li>
</ul>
</div>

## 히스토그램
히스토그램은 MACD2라고도 하며, 계산하는 식은 다음과 같다.

$$
히스토그램(MACD_{2})=MACD_{1}-시그널
$$

히스토그램은 MACD1과 시그널의 차, 즉, 간격을 보기 위한 척도라고 할 수 있다. MACD1과 시그널이 골든크로스(데드크로스)하는 지점이 매수(매도) 진입 신호라는 것은 앞서 설명했다. 떨어져 있던 MACD1과 시그널이 서로 붙을 때가 그 타이밍이다.

즉, 히스토그램은 예측의 예측을 하기 위한 도구라고 할 수 있다.

MACD1과 시그널은 꺾은선그래프이지만, 히스토그램은 막대그래프로 2개 선의 간격이 가까워졌다 멀어졌다 하는 움직임을 표시한다.

아래의 차트를 보자.

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-7.webp" alt="히스토그램">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 7 히스토그램 (출처: 실전 추세투자법) </span>
</p>

차트에서는 하락 추세가 진행되고 있다. 캔들은 하락의 연속이다. 이때 중간 그래프의 MACD1과 시그널도 동일하게 하락세를 보이고 있지만, 바닥이 가격보다 일찍 등장한다. 즉, MACD1과 시그널이 가격에 앞서서 상승한다. 

하단의 히스토그램도 보자. 가격, MACD1, 시그널과 비교할 때 처음에 아래로 뻗어 있던 막대가 최대 길이로 내려와 있는 지점(최저점)이 MACD1 시그널보다도 먼저 나타났다.

가격이 상승 추세에 들어간 다음에는 어떨까? 추세 중반에는 자잘한 등락이 나타나는데, 이때마다 히스토그램은 늘었다 줄었다를 반복한다. 이는 히스토그램이 매매 신호를 빨리 내려고 하기 때문이다. 신호가 빠르면 속임수도 늘어난다. 따라서 히스토그램은 어디까지나 참고용으로만 사용해야 하며, 이것만으로 매매에 나서진 말아야 한다. 히스토그램은 장세의 커다란 흐름을 붙잡기 위한 도구일 뿐이다.

# MACD를 제대로 활용하는 방법

## MACD는 5개의 선으로 분석한다
MACD를 5개의 선으로 분석하는 것이 [실전 추세투자법](/투자/trading-edge-book)의 저자 고지로의 방식이다. MACD에는 MACD1과 시그널, 히스토그램이 원래 포함돼 있다. 여기에 12일 EMA와 26일 EMA를 더해서 5개가 된다.

아래의 그림이 실제 분석사례다. 상단에 12일 EMA와 26일 EMA를 놓고, 하단에는 MACD1, 시그널, 히스토그램을 배치한다. 이것이 MACD를 가장 잘 이해할 수 있는 방법이다. 

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-8.webp" alt="MACD분석 사례">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 8 MACD분석 사례 (출처: 실전 추세투자법) </span>
</p>

MACD에서는 다음의 세 가지 매매 신호를 읽을 수 있다.
- 12일 EMA와 26일 EMA의 크로스

- MACD1과 시그널의 크로스

- 히스토그램의 증감

## MACD 활용 비법
하단 그래프에는 히스토그램의 버텀아웃(Bottom out)과 피크아웃 (Peak out)을 원으로 표시 했다. 

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-9.webp" alt="MACD활용 비법">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 9 MACD활용 비법 (출처: 실전 추세투자법) </span>
</p>

이 세 그래프에서 일어나는 일을 시간순으로 정리하면 다음과 같다.

1. 히스토그램의 버텀아웃
2. MACD1과 시그널의 골든크로스
3. 12일 EMA와 26일 EMA의 골든크로스
4. 히스토그램의 피크아웃
5. MACD1과 시그널의 데드크로스
6. 12일 EMA와 26일 EMA의 데드크로스

12일 EMA와 26일 EMA의 크로스는 가격이 바닥 또는 천장을 치고 얼마 후 발생한다. 그래서 EMA의 크로스를 확인하고 나서 주문을 내면 추세의 상당 부분을 놓치게 된다. 

한편, 하단의 히스토그램에 속임수가 많다. 따라서 MACD1과 시그널의 골든크로스, 데드크로스가 최선의 매수 신호와 매도 신호가 된다.

히스토그램은 극장에서 공연 시작을 알리는 차임벨과 비슷하다. 관객들은 극장 로비에서 차를 마시거나 팸플릿을 보면서 공연이 시작되기를 기다린다. 그러다 차임벨이 울리면 천천히 자리를 찾아가 앉아서 연극을 관람할 준비를 한다. 히스토그램도 그와 같다.

## MACD를 활용한 진입과 청산

### 본 매수와 추가 매수
본격적인 매수 주문은 MACD1과 시그널이 크로스할 때다. 그리고 추가로 주문하는 타이밍은 2개의 EMA선이 크로스할 때다. MACD를 몰랐다면 이 자리에서 일반적인 매수 포지션으로 진입했을 것이다.

추가로 매수할 때 놓쳐서는 안되는 중요한 신호가 있다. EMA가 크로스하는 데 이르기까지 MACD의 다음과 같은 움직임을 주시하자.
- 히스토그램의 상승세가 완만해진다.
- 히스토그램이 내려가기 시작한다.
- MACD1의 상승세가 완만해진다.
- MACD1의 상승세가 평행에 가까워진다.

MACD의 장점은 MACD1이 하락함에 따라 상승 추세가 끝나리라는 점을 사전에 알려준다는 것이다.

### 청산
예를 들어 매수 포지션을 청산하는 것은 히스토그램이 피크아웃에서 하락세로 바뀌는 것을 기준으로 삼는다. 그 타이밍에 포지션의 일부를 조기에 청산하는 전술도 나쁘지 않으나, 속임수에 빠지는 경우도 종종 있다. 따라서 조기 청산을 검토하는 정도가 좋을 것이다.

실제 청산은 MACD1이 피크아웃하는 것을 확인한 후에 해도 충분하다. 그때는 포지션의 절반 정도를 청산한다. 남은 절반을 모두 청산 하는 것은 MACD1과 시그널이 데드크로스를 이뤘을 때다.

### 손절매
매수 포지션에 있을 때 손절매 라인은 직전 바닥(이전 저가)으로 정한다. MACD1과 시그널이 골든크로스하는 것을 확인하고 매수 포지션을 취했는데 얼마지나지 않아 가격 움직임이 반전하여 이전 저가를 무너뜨린다면, 진정한 버텀아웃이 아니었다는 뜻이다. 따라서 깔끔하게 상황을 받아들이고 그 자리에서 트레이딩을 끝내야 한다.

## 속임수와 노이즈의 발견
MACD를 활용하면 속임수도 발견할 수 있다. 트레이더가 속임수를 알아차리는 데에는 두 가지 패턴이 있다. 주문하기 전에 알아차리는 패턴과 주문한 후에 알게 되는 패턴이다.

### 주문하기 전에 알아차리는 패턴
주문을 내기 전에는 항상 속임수가 일어날 수 있음을 생각해야 한다. 나아가 그런 시장 상황에서는 애초에 주문을 내지 않는 것이 좋다. 그래도 주문을 내고 싶다면 세심한 주의가 필요하다. MACD의 매매 신호는 MACD1과 시그널의 크로스다. 이 골든크로스는 제로 선 이하에서 발생하는 경우와 제로선 이상에서 발생하는 경우로 두 가지가 있다. 

이 중 속임수가 많은 것은 제로선보다 위에서 발생하는 골든크로스다. 물론 제로선에 가까운 크로스도 주의해야 한다. 

히스토그램에는 깊은 계곡에 해당하는 버텀아웃과 높은 산에 해당 하는 피크아웃, 작은 계곡에 해당하는 버텀아웃과 낮은 산에 해당하는 피크아웃이 있다. 이 중 신뢰도가 높은 것은 깊은 계곡과 높은 산이다.

### 주문한 후에 알게 되는 패턴
주문한 후에 속임수에 걸렸음을 알게 되는 경우도 있다. 다행히 아직 가격은 내려가지 않았다면, 어떻게 해야 할까? 굳건하게 손절매 라인까지 기다릴 필요가 없다. 즉시 청산해야 한다.

MACD1 시그널의 골든크로스를 확인하고 매수 진입했다고 하자. 상승 추세를 제대로 붙잡았다면, MACD1 시그널이 모두 우상향할 것 이다. 그런데 어느 한쪽이라도 상승 동력을 잃는다면, 추세를 제대로 타지 못했다는 증거다.

원래 상승 과정에서 MACD1은 제로선을 넘어야 한다. 그래야 12일 EMA와 26일 EMA의 골든크로스가 되기 때문이다. 아무리 기다려도 MACD1이 제로선에 닿지 않는다면, EMA의 골든 크로스는 일어나지 않는다.

# 이동평균선 대순환 분석의 진화형, 대순환 MACD

## 대순환 MACD의 구성
대순환 MACD는 4개의 요소로 구성되어 있다. 아래의 그림을 보자. 

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-10.webp" alt="대순환MACD 활용">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 10 대순환MACD 활용 (출처: 실전 추세투자법) </span>
</p>

맨 위 차트는 이동평균선 대순환 분석이다. 3개의 이동평균선은 EMA를 사용했다. 파라미터는 이동평균선 대순환 분석과 똑같이 5일, 20일, 40 일이다. 일봉 차트 외에서도 5봉, 20봉, 40봉을 사용한다. 

그다음에 3개의 MACD를 추가했다. 편의상 위에서부터 MACD(상), MACD(중), MACD(하)라고 하겠다.
세 MACD의 파라미터는 각각 다음과 같다.

1. MACD(상): 5,20,9

2. MACD(중): 5,40,9

3. MACD(하): 20,40,9

MACD는 앞에서 이야기한 대로, 두 EMA의 간격이 변하는 것을 본다. 이를 통해 두 이동평균선이 골든크로스, 데드크로스하는 것을 미리 알 수 있다.

위에 나열한 파라미터 중에서 처음 2개의 숫자, 예컨대 MACD(상)에서 5와 20은 그 MACD가 어떤 EMA끼리의 간격을 보는지 알려준다.

1. MACD(상): 5일 EMA(단기선)와 20일 EMA(중기선)의 간격
2. MACD(중): 5일 EMA(단기선)와 40일 EMA(장기선)의 간격
3. MACD(하): 20일 EMA(중기선)와 40일 EMA(장기선)의 간격

그리고 마지막 숫자 9는 시그널을 계산할 때 필요한 표준 파라미터다.

$$
시그널 = \text{MACD1의 9일 EMA}
$$

## 3개의 MACD를 사용하는 의미
MACD에는 2개의 EMA가 골든크로스 또는 데드크로스하는 것을 미리 읽을 수 있다는 특징이 있다. 크로스하려고 2개 선이 점점 가 까워지기 때문이다.

MACD의 이런 특징을 살려서 국면 변화를 사전에 알아낼 수 있도록 고안한 것이 세 가지 MACD다. 각각의 역할은 다음과 같다.

1. MACD(상)
파라미터 5, 20의 MACD는 단기선과 중기선의 골든크로스(데드크로스)를 예측한다.
(MACD1 = 5일 EMA-20일 EMA)

2. MACD(중)
파라미터 5, 40의 MACD는 단기선과 장기선의 골든크로스(테드크로스)를 예측한다.
(MACD1 = 5일 EMA-40일 EMA)

3. MACD(하)
파라미터 20, 40의 MACD는 중기선과 장기선의 골든크로스 (데드크로스)를 예측한다.
(MACD1 = 20일 EMA-40일 EMA)

이처럼 세 가지 MACD를 사용하여 국면의 이행을 빨리 읽어낼 수 있다. 예를 들어 작은 추세에서도 수익을 내겠다고 생각했다면, 국면 1에서 3개의 이동평균선이 모두 우상향할 때까지 기다려서는 늦다. 하지만 이동평균선보다 빠르게 반응하는 MACD를 사용하면, 국면 6이나 국면 5에서 조만간 국면 1로 이행할 거라고 예측할 수 있다. 결과적으로 한발 먼저 행동에 나설 수 있는 것이다.

## 대순환 MACD와 이동평균선 대순환 분석의 관계
아래의 그림을 보자. 

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-11.webp" alt="대순환MACD와 이동평균선 대순환 분석의 관계">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 11 대순환MACD와 이동평균선 대순환 분석의 관계 (출처: 실전 추세투자법) </span>
</p>

이 그림에서 3개의 MACD는 시그널과 히스토그램을 생략하고 MACD1만 그렸다. 상단의 차트는 위에서부터 40일 EMA(장기선), 20일 EMA(중기선), 5일 EMA(단기선)의 배열 순서를 이루며 국면 4로 시작하고 있다(박스 부분).

이제 단기선과 중기선이 골든크로스하여 국면 5가 됐다. 이때 MACD(상)의 MACD1이 제로선을 아래에서 위로 크로스하는 것을 볼 수 있다. 즉, MACD(상)의 움직임을 보면 국면 5로 이행할 것을 미리 알 수 있다.

이어서 단기선과 장기선이 골든크로스하여 국면 6이 됐다. 이때 MACD(중)의 MACD1이 제로선을 아래에서 위로 크로스하는 것을 볼 수 있다. 즉 MACD(중)의 움직임을 보고 있으면 국면 6으로의 이행을 미리 알 수 있다.

이번엔 중기선과 장기선이 골든크로스하여 국면 1이 됐다. 이때 MACD(하)의 MACD1이 아래에서 위로 제로선을 크로스하는 것을 볼 수 있다. 즉 MACD(하)의 움직임을 보고 있으면 국면 1로 이행할 것을 미리 알 수 있다.

그림의 차트 중간쯤에서 나타난 국면 1에 주목하자. 대단히 작은 상승 추세로 매수 포지션으로 진입할 겨를도 없이 하락세로 돌아 섰다. 이동평균선 대순환 분석으로는 붙잡기 어려운 장세다. 그런데 그보다 한 단계 앞선 국면 6이나 국면 5에서 진입할 수 있다면, 이런 작은 추세도 다 잡을 수가 있다. 진입이 빠르면 빠를수록 보통은 속임수가 많다. 하지만 대순환 MACD를 사용하여 국면의 변화를 예측하면, 속임수에 걸릴 확률을 줄이면서 진입할 수 있다.

## 대순환 MACD의 진입: 매수

### 본매매
대순환 MACD의 매수 진입은 다음과 같은 조건을 따른다.
- 국면 6
- MACD(하)의 MACD1이 시그널과 골든크로스했다.
- 3개의 MACD가 모두 우상향한다.

국면 6은 단기 EMA가 띠를 건넌 상태임을 말한다. 거기에 더해서 MACD(하)에서 MACD1이 시그널과 골든크로스했다는 사실로 MACD1이 상승한다는 것을 확인할 수 있고, 국면 1로 이행하리라는 것도 예측 할 수 있다. 그리고 3개의 MACD가 상승하는 것을 보고 상승 추세가 지속되리라는 점을 신뢰도 높게 판단할 수 있다.

### 조기진입
대순환 MACD의 조기매수 진입은 다음과 같은 조건을 따른다.
- 국면 5
- MACD(하)의 MACD1이 시그널과 골든크로스했다.
- 3개의 MACD가 모두 우상향한다.

### 시험진입
대순환 MACD의 시험매수 진입은 다음과 같은 조건을 따른다.
- 국면 4
- MACD(하)의 MACD1이 시그널과 골든크로스했다.
- 3개의 MACD가 모두 우상향한다

여기서도 다른 점은 현재 국면뿐이다. MACD(상)의 상승은 국면4에서 국면 5로의 이행, MACD(중)의 상승은 국면 5에서 국면 6으로 이행할 조짐을 보여준다. MACD(하)의 상승은 국면 6에서 국면 1로 이행 하리라는 전조다.

시험매매 신호가 나오는 것은 국면 4다. 다만 단기선 위에 아직 띠 가 펼쳐져 있고, 그 띠에 튕겨 나올 가능성이 있으니 주의하자.

아래의 그림을 보자. 본매매, 조기매매, 시험매매 모두 MACD 3개가 상승한다는 것을 대단히 중요한 신호로 본다. MACD(상)은 가격 변동에 민감도가 높은 선이다. 그에 비해 MACD(하)는 민감도가 낮은 편이다. 그래서 상승 추세가 작은 채로 끝날 때는, MACD(하)가 상승을 시작하려 하는데 MACD(상)은 이미 하락세로 바뀌어 있는 경우가 많다.

앞으로 가격이 강하게 올라갈 것을 시사하는 데 3개의 선이 시차를 두고 상승하고 있는가에 주목해야 한다.

### 차트로 확인하기
그림 11을 다시 한번 보자. 이때의 상태로는 국면 1의 타이밍에서 매 수했다면 이미 수익을 놓쳤다. 이 지점에서 각 MACD1 3개 선을 보자.

MACD(하)의 MACD1은 지금 막 골든크로스가 일어났고 상승하고 있다. 그런데 MACD(중)과 MACD(하)의 MACD1은 미미하지만 아래로 기울었다. 이는 이미 매수할 수 없는 상태임을 의미한다.

아래의 차트는 국면 4에서 시작하고 있다. 그다음은 국면 5-국면 6-국면 1로 순조롭게 진행되고 있다. 이때 MACD1의 움직임에 주목하자. 국면 4의 마지막 지점에서 MACD(하)의 MACD1이 시그널과 골든크로스하고 있다. 이때 MACD(중)과 MACD(상)의 MACD1을 확인한다.

<p align="center">   
    <img src="/images/2024-11-10-trading-edge-book-macd/12-12.webp" alt="MACD 3개가 상승하고 있는 차트">
    <br>
   <span style="font-style: italic; color: #FFFFFF;">Fig. 12 MACD 3개가 상승하고 있는 차트 (출처: 실전 추세투자법) </span>
</p>

두꺼운 실선으로 표시한 MACD1이 모두 상승하고 있다. 이로써 국면 4에서 시험진입을 할 수 있는 조건을 만족했다. 그 직후에 국면 5로 이행하고 있다. MACD(하)의 MACD1과 시그널의 골든크로스는 이미 국면 4에서 확인했다. 여기서 다시 한번 3개의 MACD에서 각각의 MACD1에 주목해보면, 모두 상승세를 이어가고 있다. 말하자면 조기진입도 가능하다는 신호다. 국면 6에서도 동일하게 조건을 만족한다면 드디어 본매매도 가능해진다.

국면 1에서 이동평균선 대순환 분석의 본매매 신호를 보자. 그 자리 에서는 진입을 해봤자 큰 수익을 올릴 수가 없는 데다, 때에 따라서는 손실을 볼 수도 있다. 그러므로 대순환 MACD의 시험진입과 조기진입은 강력한 무기가 된다.

## 대순환 MACD의 진입: 매도

### 본매매
대순환 MACD의 매도 진입은 다음과 같은 조건을 따른다.
- 국면 3
- MACD(하)의 MACD1이 시그널과 데드크로스했다.
- 3개의 MACD가 모두 우하향한다.

### 조기진입
대순환 MACD의 조기매도 진입은 다음과 같은 조건을 따른다.

- 국면 2
- MACD(하)의 MACD1이 시그널과 데드크로스했다.
- 3개의 MACD가 모두 우하향한다.

### 시험진입
- 국면1
- MACD(하)의 MACD1이 시그널과 데드크로스했다.
- 3개의 MACD가 모두 우하향한다.

## 대순환 MACD의 청산
대순환 MACD의 청산은 이동평균선 대순환 분석과 동일하지만, 국면의 변화를 보고 나서 청산 주문을 냈다가는 너무 늦다. MACD(상)의 움직임을 보면 앞으로 국면이 바뀌리라는 점을 사전에 알 수 있다. 추세가 끝날 것 같다면 재빨리 청산해야한다.

어느 정도 수익이 오른 다음에 청산할 때는 이동평균선의 전날 중기선 가격에 역지정가 주문을 내놓는 방법이 있다. 가격이 크게 오른 후에는 하락도 빠르다는 점에 착안하여 생각해낸 방법이다. 미리 역지정가 주문을 내놓으면 좀더 빨리 청산할 수 있기 때문이다.

어느 쪽이든 MACD 3개의 움직임을 보면, 하락 추세로 변화하리라는 점을 미리 알 수 있을 것이다.